# BitFS支付

## 场景介绍

BitFS支付是指商户在移动端或PC端网页展示商品或服务，用户在前述页面确认使用BitFS支付时，商户发起本服务呼起[BitFS] App进行支付或者使用[BitFS] App扫码支付。

主要用于触屏版的手机浏览器请求BitFS支付的场景和PC端的浏览器发起订单用App扫码支付的场景。可以方便的从浏览器唤起BitFS支付和扫码支付。

申请入口：登录BitFS官网-->企业用户-->联系销售-->平台接入申请

## 接口开发流程

<%= image_tag "images/payment/development.png" %>

**流程说明：**

1、用户在商户侧完成下单，使用BitFS支付进行支付

2、由商户后台向BitFS支付发起下单请求。注：交易类型trade_type=“DEPOSIT”

3、商户端保存订单信息

4、法币/数字货币充值下单接口返回支付相关参数给商户后台，

5、BitFS返回网关中间页url

6，7，8、如支付跳转url（参数名“pay_url”），商户通过pay_url调起BitFS支付中间页

9，10、中间页进行支付权限的校验及安全检查

11，12、用户扫码获取BitFS支付订单信息进行支付

13，14、如支付成功，商户后台会接收到BitFS后台的异步通知，并返回接收结果

15、用户在BitFS支付app完成支付或取消支付,返回支付结果页面

16、商户在展示页面，引导用户主动发起支付结果的查询

17,18、商户后台判断是否接到BitFS后台的支付结果通知，如没有，后台调用BitFS的订单查询接口确认订单状态

20，21、展示最终的订单支付结果给用户

##  业务流程

**商户方**

通过BitFS支付可以实现在浏览器（如谷歌浏览器、百度浏览器、UC浏览器等）中使用BitFS支付的场景。

**用户方**

1、用户从浏览器的站点导航进入商户网页，用户挑选需购买的商品，选择BitFS支付发起购买流程。

<%= image_tag "images/payment/toBuy.jpg" %>

2、移动端直接通过App确认交易，输入支付密码；PC端需要下载BitFS的App，然后进行扫码获取订单信息确认交易，输入支付密码。

<%= image_tag "images/payment/payment.png" %>

3、支付成功，用户收到支付凭证，同时商户后台收到支付成功的通知。
<%= image_tag "images/payment/payOk.png" %>